(this.webpackJsonpmemeapp=this.webpackJsonpmemeapp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(4),r=a.n(l);a(14);var m=function(){return o.a.createElement("header",null,o.a.createElement("img",{src:"http://assets.stickpng.com/images/580b585b2edbce24c47b2a2f.png",alt:"Problem?",height:"100px",width:"100px"}),o.a.createElement("p",null,"Meme Generator"))},i=a(2),c=a(5),h=a(6),s=a(1),u=a(8),d=a(7);var g=function(e){return o.a.createElement("div",{className:"memeRoot"},o.a.createElement("form",{className:"meme-form",onSubmit:e.handleSubmit},o.a.createElement("input",{type:"text",name:"topText",placeholder:"Top Text",value:e.state.topText,onChange:e.handleChange}),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement("span",null," Text Color "),o.a.createElement("input",{type:"color",name:"topColor",value:e.state.topColor,onChange:e.handleColorChnage})),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement("span",null," Border Color  "),o.a.createElement("input",{type:"color",name:"topBorderColor",value:e.state.topBorderColor,onChange:e.handleColorChnage})),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"bottomText",placeholder:"Bottom Text",value:e.state.bottomText,onChange:e.handleChange}),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement("span",null," Text Color  "),o.a.createElement("input",{type:"color",name:"bottomColor",value:e.state.bottomColor,onChange:e.handleColorChnage})),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement("span",null," Border Color  "),o.a.createElement("input",{type:"color",name:"bottomBorderColor",value:e.state.bottomBorderColor,onChange:e.handleColorChnage})),o.a.createElement("br",null),o.a.createElement("button",null,"Gen")),o.a.createElement("div",{className:"meme"},o.a.createElement("center",null,o.a.createElement("canvas",{id:"my-canvas",width:"568px",height:"335px"}))))},p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={topText:"",topColor:"#000000",topBorderColor:"#FFFFFF",bottomText:"",bottomColor:"#000000",bottomBorderColor:"#FFFFFF",height:335,width:568,url:"http://i.imgflip.com/1bij.jpg",allMemeImgs:[],image:void 0,updateImage:!1,maxHeight:Math.floor(.8*window.innerHeight)},e.componentDidMount=e.componentDidMount.bind(Object(s.a)(e)),e.setImage=e.setImage.bind(Object(s.a)(e)),e.setText=e.setText.bind(Object(s.a)(e)),e.handleColorChnage=e.handleColorChnage.bind(Object(s.a)(e)),e.handleChange=e.handleChange.bind(Object(s.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(s.a)(e)),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){var a=t.data.memes;console.log(t.data),e.setState({allMemeImgs:a})})),this.setImage()}},{key:"setImage",value:function(){var e=document.getElementById("my-canvas"),t=e.getContext("2d"),a=new Image,n=this.state,o=n.url,l=n.width,r=n.height,m=n.maxHeight,i=r,c=l;r>m&&(c=l*(m/r),i=m);a.src=o,console.log("setImage",o,c,i),a.onload=function(){e.height=i,e.width=c,t.drawImage(a,0,0,l,r,0,0,c,i)},this.setState({image:a})}},{key:"setText",value:function(){var e=document.getElementById("my-canvas").getContext("2d"),t=this.state,a=t.image,n=t.topText,o=t.topColor,l=t.topBorderColor,r=t.bottomText,m=t.bottomColor,i=t.bottomBorderColor,c=t.height,h=t.width;e.drawImage(a,0,0,h,c,0,0,h,c),e.font="2em impact, sans-serif";var s=e.measureText(n).width,u=e.measureText(r).width;e.strokeStyle=l,e.strokeText(n,h/2-s/2,30),e.strokeStyle=i,e.strokeText(r,h/2-u/2,c-10),e.fillStyle=o,e.fillText(n,h/2-s/2,30),e.fillStyle=m,e.fillText(r,h/2-u/2,c-10)}},{key:"handleColorChnage",value:function(e){var t=this,a=e.target,n=a.name,o=a.value;setTimeout((function(){t.setState(Object(i.a)({},n,o))}),250)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(i.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Math.floor(Math.random()*this.state.allMemeImgs.length),a=this.state.allMemeImgs[t],n=a.url,o=a.width,l=a.height;this.setState({url:n,width:o,height:l,updateImage:!0})}},{key:"componentDidUpdate",value:function(){this.state.updateImage&&(this.setState({updateImage:!1}),this.setImage()),this.setText()}},{key:"render",value:function(){return o.a.createElement(g,{state:this.state,handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleColorChnage:this.handleColorChnage})}}]),a}(n.Component);var b=function(){return o.a.createElement("div",null,o.a.createElement(m,null),o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.1ed5bf25.chunk.js.map